<!DOCTYPE html>
<html>
    <head>
        <title>延伸期预报</title>
        <link rel="stylesheet" href="css/bootstrap.css" rel="stylesheet">
        <link rel="stylesheet" href="css/common.css"/>
        <link rel="stylesheet" href="css/land.css"/>
        <link rel="stylesheet" href="css/datetimepicker.min.css"/>
        <link rel="stylesheet" href="css/buttons.css">
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <link rel="stylesheet" href="css/jquery-ui.min-v1.12.0.css">
        <link rel="stylesheet" type="text/css" href="css/qhyc.css">
        <!-- jquery start-->
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/jquery.cookie.js"></script>
        <script type="text/javascript" src="js/jquery-ui-table.js"></script>
        <script type="text/javascript" src="js/jquery.form.js" ></script>
        <script type="text/javascript" src="js/jquery-ui.min.v1.12.0.js" ></script>
        <!-- jquery end-->
        <script type="text/javascript" src="js/buttons.js"></script>
        <script type="text/javascript" src='libs/WeatherMap.Include.js'></script>
        <script type="text/javascript" src="js/zui.min.js"></script>
        <script type="text/javascript" src="js/bootstrap-modal.js"></script>
        <script type="text/javascript" src="js/styles/plotStyles_surface.js"></script>
        <script type="text/javascript" src="js/styles/plotStyles_hight.js"></script>
        <script type="text/javascript" src="js/styles/rain24hStyles.js"></script>
        <script type="text/javascript" src="js/styles/windStyles.js"></script>
        <script type="text/javascript" src="js/styles/tempStyles.js"></script>
        <script type="text/javascript" src="js/styles/rhStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_TempStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_TempJuPingStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_RHStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_Rain24Styles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_Rain24JuPingStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_RadarStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_500hPaHightStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_10uvStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_AirStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_WStyles.js"></script>
        <script type="text/javascript" src="js/styles/heatMap_OLRStyles.js"></script>
        <script type="text/javascript" src="js/CommonFunction.js"></script>
        <script type="text/javascript" src="js/Renderer/Plot.js"></script>
        <script type="text/javascript" src="js/Renderer/StreamLine.js"></script>
        <script type="text/javascript" src="js/Renderer/NeonLine.js"></script>
        <script type="text/javascript" src="js/Renderer/Contour.js"></script>
        <script type="text/javascript" src="js/Controls/datetimepicker.min.js"></script>
        <script type="text/javascript" src="js/Controls/ChartClass.js"></script>
        <script type="text/javascript" src="js/Controls/highcharts.js"></script>
        <script type="text/javascript" src="js/Controls/exporting.js"></script>
        <script type="text/javascript" src="js/Controls/draggable-points.js"></script>
        <script type="text/javascript" src="js/Controls/DateSelecter.js"></script>
        <script type="text/javascript" src="js/Controls/YuBaoshixiaoTools.js"></script>
        <script type="text/javascript" src="js/Controls/SideWrapper.js"></script>
        <script type="text/javascript" src="js/Controls/MapSwitch.js"></script>
        <script type="text/javascript" src="js/Controls/Legend.js"></script>
        <script type="text/javascript" src="js/CorrectAction.js"></script>
        <script type="text/javascript" src="js/MagicTool.js"></script>
        <script type="text/javascript" src="js/FilterTool.js"></script>
        <script type="text/javascript" src="js/CrossRelation.js"></script>
        <script type="text/javascript" src="js/CrossCorrection.js"></script>
        <script type="text/javascript" src="js/Pages/PageBase.js"></script>
        <script type="text/javascript" src="js/Pages/SZMSPageClass.js"></script>
        <script type="text/javascript" src="js/Pages/GDYBPageClass.js"></script>
        <script type="text/javascript" src="js/Pages/ZDYBPageClass.js"></script>
        <script type="text/javascript" src="js/Pages/XTGLPageClass.js" ></script>
		<script type="text/javascript" src="js/Pages/YBCPPageClass.js" ></script>
        <script type="text/javascript" src="js/Pages/YBCPSKPageClass.js" ></script>
        <script type="text/javascript" src="js/Pages/QYCPPageClass.js" ></script>
        <script type="text/javascript" src="js/Pages/ZDYBSZPageClass.js" ></script>
        <script type="text/javascript" src="js/Pages/LSWPageClass.js" ></script>
        <script type="text/javascript" src="js/Pages/MJOPageClass.js" ></script>
        <script type="text/javascript" src="js/GridProductClass.js"></script>
        <script type="text/javascript" src="js/DataClass/RadarDataClass.js"></script>
        <script type="text/javascript" src="js/DataClass/AWXDataClass.js"></script>
        <script type="text/javascript" src="js/DataClass/MicapsDataClass.js"></script>
        <script type="text/javascript" src="js/DataClass/TextDataClass.js"></script>
        <script type="text/javascript" src="js/main.js"></script>
		<script type="text/javascript" src="js/Layers/LocalTiledCacheLayer.js"></script>
        <script type="text/javascript" src="js/Layers/LocalTiledCacheLayerBlackMap.js"></script>
        <script type="text/javascript" src="js/Layers/LocalTiledCacheLayerWhiteMap.js"></script>
        <script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTIMG.js"></script>
        <script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTMAP.js"></script>
        <script type="text/javascript" src="js/Layers/LocalTiledCacheLayerTDTTER.js"></script>
        <script type="text/javascript" src="js/Layers/TianDiTuLayer.js"></script>
        <script type="text/javascript" src="js/FeatureUtilityClass.js"></script>
        <script type="text/javascript" src="js/Layers/FillColorLayer.js"></script>
        <script type="text/javascript" src="js/Layers/FillRangeColorLayer.js"></script>
        <script type="text/javascript" src="js/Layers/MappingLayer.js"></script>
        <script type="text/javascript" src="js/DataCache.js"></script>
        <script type="text/javascript" src="js/DataStack.js"></script>
        <script type="text/javascript" src="js/GridAnalyst.js"></script>
        <script type="text/javascript" src="js/Rect.js"></script>
        <script type="text/javascript" src="js/Panels/DragPanelBase.js"></script>
        <script type="text/javascript" src="js/Panels/Panel_Tools.js"></script>
        <script type="text/javascript" src="js/Panels/Panel_LQDZ.js"></script>
        <script type="text/javascript" src="js/Panels/Panel_QHDZ.js"></script>
        <script type="text/javascript" src="js/Panels/Panel_QSDZ.js"></script>
        <script type="text/javascript" src="js/Panels/Panel_FXDZ.js"></script>
        <script src="data/StreamLine.js"></script>
        <script src="data/StreamLine_uv.js"></script>
        <script src="data/winddata.js"></script>
        <!-- mmgrid-->
        <link rel="stylesheet" href="css/mmgrid/mmGrid-bootstrap.css" />
        <link rel="stylesheet" href="css/mmgrid/mmGrid.css" />
        <link rel="stylesheet" href="css/mmgrid/mmPaginator.css" />
        <script type="text/javascript" src="js/mmGrid.js" ></script>
        <!-- mmgrid end -->
        <!-- artdialog -->
        <link rel="stylesheet" href="css/artdialog/ui-dialog.css" />
        <script type="text/javascript" src="css/artdialog/dialog-min.js" ></script>
        <!-- artdialog end-->
        <script type="text/javascript" src="js/Controls/CDateAndArea.js"></script>
        <script type="text/javascript" src="js/lib/echarts.js"></script>
        <script type="text/javascript" src="js/config/config.js"></script>
        <script type="text/javascript" src="js/GridUtil.js"></script>
        <script type="text/javascript" src="js/ChartUtil.js"></script>
        <script type="text/javascript" src="js/lib/layer.min.js"></script>
        <script type="text/javascript" src="js/lib/vue.min.js"></script>
        <script type="text/javascript" src="js/app/extend/MyDate.js"></script>
    </head>
    <body>
        <div class="body">
            <div class="banner">
                <div class="background">
                </div>
                <div class="logo">
                    <img src="imgs/img_banner_titlie_land.png" height="100%">
                </div>
                <!--右键菜单-->
                <div id="divContextMenu" style="display:none;width:80px;position:absolute;top:0px;left:0px;border: solid 1px rgb(150,160,200);background-color: #FFFFFF;color: #000000;z-index: 99;cursor: pointer;font-size: 12px;">
                    <div id="div_copy">复制</div>
                    <div id="div_paste" style="display: none">粘贴</div>
                    <div id="div_cancel">取消</div>
                </div>
                <!--登录按钮-->
                <div id="login" style="position:absolute;top:0px;">
                    <span>当前用户：</span><span id="span_user">未登录</span><a id="a_exit">登录</a><a href="./docs/GDYB_UserManual.pdf">用户手册</a>
                </div>
                <!--4分屏按钮-->
                <a id="ScreenFull"><img src="imgs/img_launchfullscreen.png"/></a>
                <!--导航按钮-->
                <div class="navigation">
                    <button id="sjll_btn" class="active">数据浏览</button>
                    <button id="gdyb_btn">格点预报</button>
                    <button id="zdyb_btn">分县预报</button>
                    <button id="ybcp_btn">预报测评</button>
                    <button id="xtgl_btn">产品展示</button>
                    <button id="zsyb_btn">指数预报</button>
                </div>
            </div>
            <div class="content">
                <div id="sideWrapper">
                    <div class="nav__bg-slider" id="nav_bg_slider" style="display: block; top: 0px;">
                    </div>
                    <ul class="navlist" id="nav_menu">
                        <li id="menu_szms">
                            <a data-index="3">
                                <img src="imgs/img_level.png">
                                <span>数值模式</span>
                            </a></li>
                        <li id="menu_weather" class="weather-box" title="">
                            <a data-index="4" class="weather-item" title="多云">
                                <img alt="天气" src="http://s1.bdstatic.com/r/www/aladdin/img/new_weath/bigicon/5.png">
                                <span class="wtext">24~16℃</span>
                                <span class="aqi-text">多云</span>
                            </a></li>
                    </ul>
                </div>
                <div id="menu" class="menu_normal"><!--minimize-->
                    <a id="displayBtn" style="display:none; background: rgb(225, 225, 235)">&lt;</a><!--&gt;-->
                    <div id="menu_bd"></div>
                </div>
                <div id="workspace_div">
                    <div id="map_div" class="map_normal">
                        <div id="map_title_div" style="position: absolute;display: block;left:50%;top:0%;width: 140px;margin-left:-140px;text-align:center;background-color:rgba(255,255,255,0.8);border:1px solid rgb(52,115,183);font-size:16px;z-index: 5;"></div>
                        <div id="map_alert_div" style="position: absolute;display: none;left:50%;top:50%;width: 300px;margin-left:-140px;text-align:center;font-size:24px;color:rgb(255,0,0);z-index: 5;">无数据</div>
                        <div id="popup_div" style="position: absolute;width:100%;height:100%;top:10px;left:0px;z-index: 5;display: none;text-align: center;padding-top: 30px;">
                        <span style="display: inline-block;border: 1px solid #4c4c4c;background: #fff;padding: 20px;">
                        <div><span>格点值:</span>&nbsp;&nbsp;<input id="popup_text" type="text" style="height: 30px;width: 100px;"/>&nbsp;&nbsp;<input id="popup_submit" type="button" value="确定" onclick="popup_submit_fun()">&nbsp;&nbsp;<input id="popup_cancel" type="button" value="取消" onclick="popup_cancel_fun()"/></div>
                        </span>
                        </div>
                        <div id="divInputValue" style="display: none; position: absolute;width: 35px; height: 24px;top:0px;left:0px;border: solid 1px rgb(150,160,200);background-color: #FFFFFF;color: #000000;z-index: 99;font-size: 12px">
                            <input id="divInputValue_input" type="text" style="height: 100%;width: 100%;border: none;text-align: center"/>
                        </div>
                        <div id="div_legend" style="position: absolute;display: block;bottom: 1px;width: 100%; height: 30px;z-index: 5;text-align: center;">
                            <div style="height: 20px;display: inline-block;">
                                <div id="div_legend_items" style="height: 30px;"></div>
                                <!--<div id="div_legend_itemTexts" style="height: 30px;"></div>-->
                            </div>
                        </div>
                        <div id="mapSwitch_div" class="mapLayer" style="z-index:20;">
                            <div style="float:right;">
                                <div>
                                    <img id="curImg" class="mapNowImg" flag="vec" src="imgs/img_map_loc_day.png">
                                </div>
                            </div>
                            <div id="div_tdt_ter" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
                                <div>
                                    <div>
                                        <img class="mapImg" flag="ter" src="imgs/img_map_tdt_ter.png">
                                    </div>
                                </div>
                            </div>
                            <div id="div_tdt_map" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
                                <div>
                                    <div>
                                        <img class="mapImg" flag="vec" src="imgs/img_map_tdt_map.png">
                                    </div>
                                </div>
                            </div>
                            <div id="div_tdt_img_local" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
                                <div>
                                    <div>
                                        <img class="mapImg" flag="img_local" src="imgs/img_map_tdt_img_local.png">
                                    </div>
                                </div>
                            </div>
                            <div id="div_tdt_ter_local" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
                                <div>
                                    <div>
                                        <img class="mapImg" flag="ter_local" src="imgs/img_map_tdt_ter_local.png">
                                    </div>
                                </div>
                            </div>
                            <div id="div_tdt_map_local" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
                                <div>
                                    <div>
                                        <img class="mapImg" flag="vec_local" src="imgs/img_map_tdt_map_local.png">
                                    </div>
                                </div>
                            </div>
                            <div id="div_loc_night" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
                                <div>
                                    <div>
                                        <img class="mapImg" flag="night" src="imgs/img_map_loc_night.png">
                                    </div>
                                </div>
                            </div>
                            <div id="div_loc_day" onclick="tiandituOnclick(this)" class="moreMapLayer" style="float: right; margin-right: 5px; display: none;">
                                <div>
                                    <div>
                                        <img class="mapImg" flag="day" src="imgs/img_map_loc_day.png">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mapd" style="left: 0px;top:0px;display: none;"><div id="map1_title_div" style="position:absolute;z-index:10;left:30%;top:5px;text-align:center;background:#fff;border:1px solid #b6bfc6;pading:5px;font-size:20px"></div></div>
                        <div class="mapd" style="left: 50%;top:0px;display: none;"><div id="map2_title_div" style="position:absolute;z-index:10;left:30%;top:5px;text-align:center;background:#fff;border:1px solid #b6bfc6;pading:5px;font-size:20px"></div></div>
                        <div class="mapd" style="left: 0px;top:50%;display: none;"><div id="map3_title_div" style="position:absolute;z-index:10;left:30%;top:5px;text-align:center;background:#fff;border:1px solid #b6bfc6;pading:5px;font-size:20px"></div></div>
                        <div class="mapd" style="left: 50%;top:50%;display: none;"><div id="map4_title_div" style="position:absolute;z-index:10;left:30%;top:5px;text-align:center;background:#fff;border:1px solid #b6bfc6;pading:5px;font-size:20px"></div></div>
                        <div id="map"></div>
                        <div class="mapd" style="left: 0px;top:0px;display: none;"><div class="screen4Map" id="map1"></div></div>
                        <div class="mapd" style="left: 50%;top:0px;display: none;"><div class="screen4Map" id="map2"></div></div>
                        <div class="mapd" style="left: 0px;top:50%;display: none;"><div class="screen4Map" id="map3"></div></div>
                        <div class="mapd" style="left: 50%;top:50%;display: none;"><div class="screen4Map" id="map4"></div></div>
                        <div id="chart_div" style="position:absolute;z-index:10;bottom:10px;left:10px;background:#fff;border:1px solid #b6bfc6;pading:5px;"></div>
                        <div id="div_showGridValue" style="display:none; position: absolute; border: 1px solid #4c4c4c;background-color:rgba(255,255,255,0.5);padding:3px 3px 3px 3px;"></div>
                    </div>
                    <!--<div id="hourSpan_div" style="position: absolute;width: 100%;height: 30px;background: #ededed;left: 300px;bottom: 0px">-->
                    <!--</div>-->
                    <div id="div_modal_confirm" class="modal hide fade in" style="display: none; ">
                        <div class="modal-header">
                            <a class="close" data-dismiss="modal">×</a>
                            <h3>提示</h3>
                        </div>
                        <div id="divImportModelType" class="modal-body">
                            <h4 id="div_modal_confirm_content">是否交叉订正</h4>
                        </div>
                        <div class="modal-footer">
                            <a id="btn_canel" href="#" class="btn" data-dismiss="modal">取消</a>
                            <a id="btn_ok" href="#" data-dismiss="modal" class="btn btn-success">确定</a>
                        </div>
                    </div>
                    <div class="modal fade" id="div_modal" role="dialog">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <a class="close" data-dismiss="modal">×</a>
                                    <h3>提示</h3>
                                </div>
                                <div id="divImportModelType" class="modal-body">
                                    <h4 id="div_modal_content">是否调入模式数据（模式时间）</h4>
                                    <div style="margin-top: 10px;"><input id="inputCurrentElementCurrentHourspan" name="importtype" type="radio" value="1" checked="checked" /><span>该要素当前时效</span></div>
                                    <div style="margin-top: 10px;"><input id="inputCurrentElementAllHourspan" name="importtype" type="radio" value="2"/><span>该要素所有时效</span></div>
                                    <div style="margin-top: 10px;"><input id="inputAllElementAllHourspan" name="importtype" type="radio" value="3"/><span>全部要素所有时效</span></div>
                                </div>
                                <div class="modal-footer">
                                    <a id="btn_canel" href="#" class="btn" data-dismiss="modal">取消</a>
                                    <a id="btn_ok" href="#" data-dismiss="modal" class="btn btn-success">确定</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="div_modal_txt" role="dialog">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <a class="close" data-dismiss="modal">×</a>
                                    <h3>提示</h3>
                                </div>
                                <div class="modal-body">
                                    <h4 id="div_modal_txt_content">是否调入模式数据（模式时间）</h4>
                                </div>
                                <div class="modal-footer">
                                    <a id="btn_canel" href="#" class="btn" data-dismiss="modal">取消</a>
                                    <a id="btn_ok" href="#" data-dismiss="modal" class="btn btn-success">确定</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="div_modal_SaveGrid" class="modal hide fade in" style="display: none; ">
                        <div class="modal-header">
                            <a class="close" data-dismiss="modal">×</a>
                            <h3>提示</h3>
                        </div>
                        <div id="div_modal_SaveGrid_Body" class="modal-body">
                            <h4 id="div_modal_SaveGrid_content">是否提交格点产品？</h4>
                            <div style="margin-top: 10px;"><input id="saveCurrentElementCurrentHourspan" name="importtype" type="radio" value="1" checked="checked" /><span>该要素当前时效</span></div>
                            <div style="margin-top: 10px;"><input id="saveCurrentElementAllHourspan" name="importtype" type="radio" value="2"/><span id="span_SaveTheElementAllHourSpan">该要素所有时效</span></div>
                            <div style="margin-top: 10px;"><input id="saveCurrentAllElementAllHourspan" name="importtype" type="radio" value="2"/><span id="span_SaveAllElementAllHourSpan">全部要素所有时效</span></div>
                        </div>
                        <div class="modal-footer">
                            <a id="btn_canel" href="#" class="btn" data-dismiss="modal">取消</a>
                            <a id="btn_ok" href="#" data-dismiss="modal" class="btn btn-success">确定</a>
                        </div>
                    </div>
                    <div id="div_progress" style="opacity:0.9;position: absolute;top: 50%;left: 50%;margin: -120px 0px 0px -120px;z-index: 99;display: none;text-align: center;">
                        <link rel="stylesheet" href="css/load6.css">
                        <div class="load-container load6">
                            <span id="div_progress_title" style="color: #ffff00;font-size: 16px;font-weight: bold;text-shadow:rgb(0,0,0) 1px 0 0,rgb(0,0,0) 0 1px 0,rgb(0,0,0) -1px 0 0,rgb(0,0,0) 0 -1px 0;">正在生成格点报...</span>
                            <div class="loader">Loading...::after</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script type="text/javascript">
        var nTickCount = 0;

        //鼠标滑过地图切换DIV
        $(".mapLayer").hover(function(){
            var $this = $(this).find(".moreMapLayer");
            $this.css("display","block");
        },function(){
            var $this = $(this).find(".moreMapLayer");
            $this.css("display","none");
        });

        $(document).ready(function(){
            window.GDYB&&GDYB.Page.main();
        });

        //键盘按键事件
        $(document).keydown(function (event) {
            if(event.keyCode == 189 || event.keyCode == 83) //-、s
            {
                GDYB.GridProductClass.updateGrid(GDYB.GridProductClass.subValue, 1);
                GDYB.FilterTool.updateGrid(GDYB.GridProductClass.subValue, 1);
            }
            else if(event.keyCode == 187 || event.keyCode == 65) //+、a
            {
                GDYB.GridProductClass.updateGrid(GDYB.GridProductClass.addValue, 1);
                GDYB.FilterTool.updateGrid(GDYB.GridProductClass.addValue, 1);
            }
        });

        //弹出输入框
        function popup_submit_fun(){
            var t = this;
            var value = $("#popup_text").val();
            if(value&&value!=""){
                $("#popup_div").css("display","none");
                GDYB.GridProductClass.currentGridValuePicked = Math.floor(value*10)/10;
            }
            else{
                alert("请输入格点值");
            }
        }

        function popup_cancel_fun(){
            $("#popup_div").css("display","none");
            GDYB.GridProductClass.currentGridValuePicked = null;
        }

        //右键菜单事件处理
        var hourspanCopy = null;
        var hourspanHover = null;
        $("#divContextMenu").find("div").click(function(){
            if(this.id == "div_copy"){
                hourspanCopy = hourspanHover;
                $("#div_paste").css("display", "block");
                $("#divContextMenu").css("display", "none");
            }
            else if(this.id == "div_paste"){
                $("#divContextMenu").css("display", "none");
                //var template = "是否将{0}小时格点粘贴到{1}小时格点？";
                //if(confirm(template.format(hourspanCopy, hourspanHover)) == true)
                {
                    var hourspanData = GDYB.GridProductClass.dataCache.getData(GDYB.GridProductClass.currentMakeTime, GDYB.GridProductClass.currentVersion,
                            GDYB.GridProductClass.currentDateTime, GDYB.GridProductClass.currentElement, hourspanCopy);

                    //这里必须拷贝
                    var dataStack = new DataStack();
                    var datasetGrid = dataStack.clone(hourspanData.data);

                    GDYB.GridProductClass.dataCache.addData(GDYB.GridProductClass.currentMakeTime, GDYB.GridProductClass.currentVersion,
                            GDYB.GridProductClass.currentDateTime, GDYB.GridProductClass.currentElement, hourspanHover, datasetGrid, 1);
                    GDYB.GDYBPage.updateHourSpanStatus();
                }
            }
            else if(this.id == "div_cancel"){
                $("#divContextMenu").css("display", "none");
            }
        });

        $("#a_exit").click(function(){
            if(this.innerHTML == "退出") {
                GDYB.GridProductClass.currentUserName = null;

                $("#span_user")[0].innerHTML = "未登录";
                $.cookie('password', '', { expires: -1 });      //如果退出，不记录密码
                $.cookie("rmbUser", 'false', { expire: -1 });   //如果退出，不记录密码
                this.innerHTML = "登录";
            }
            else if(this.innerHTML == "登录") {
                window.location.href="index.html";
            }
        });

        //显隐displayBtn
        $("#menu_bd").hover(function(){
            $("#displayBtn").css("display", "block");
        });
        $("#menu_bd").mouseleave(function(){
            setTimeout("$('#displayBtn').css('display', 'none')",5000);
        });
        $("#sideWrapper").hover(function(){
            $("#displayBtn").css("display", "block");
        });
        $("#sideWrapper").mouseleave(function(){
            setTimeout("$('#displayBtn').css('display', 'none')",5000);
        });
    </script>
</html>